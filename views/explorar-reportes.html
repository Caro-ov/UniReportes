<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>UniReportes - Explorar Reportes</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Noto+Sans:wght@400;500;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/components.css"/>
    <link rel="stylesheet" href="css/explorar-reportes.css"/>
    
</head>
<body data-page="explorar-reportes" data-title="UniReportes - Explorar Reportes" data-css="explorar-reportes">
    <div class="contenedor-principal">
        <!-- Overlay para móvil -->
        <div class="overlay"></div>
        
        <!-- Sidebar de navegación -->
        <aside class="sidebar" id="sidebar-container">
            <!-- El contenido se cargará dinámicamente desde components/sidebar-admin.html -->
        </aside>

        <!-- Contenido wrapper -->
        <div class="contenido-wrapper">
            <!-- Header superior -->
            <header class="header-principal" id="header-container">
                <!-- El contenido se cargará dinámicamente desde components/header.html -->
            </header>

            <!-- Contenido principal -->
            <main class="contenido-principal">
                <div class="contenedor-contenido">
                    <!-- Notificaciones Urgentes -->
                    <section class="seccion-notificaciones-urgentes" id="notificaciones-urgentes" style="display: none;">
                        <div class="notificacion-urgente">
                            <div class="icono-urgente">
                                <span class="material-symbols-outlined">error</span>
                            </div>
                            <div class="contenido-notificacion">
                                <h3 class="titulo-notificacion">Notificaciones Urgentes</h3>
                                <div class="lista-reportes-urgentes" id="lista-reportes-urgentes">
                                    <!-- Los reportes urgentes se cargarán dinámicamente -->
                                </div>
                            </div>
                            <div class="acciones-notificacion">
                                <button class="btn-cerrar-notificacion" id="cerrar-notificaciones">
                                    <span class="material-symbols-outlined">close</span>
                                </button>
                            </div>
                        </div>
                    </section>

                    <!-- Sección principal de reportes -->
                    <section class="seccion-reportes-recientes">
                        <div class="header-seccion">
                            <h2 class="titulo-seccion">Reportes Recientes</h2>
                            
                            <!-- Filtros de reportes -->
                            <div class="filtros-reportes">
                                <div class="filtro-grupo">
                                    <span class="material-symbols-outlined">search</span>
                                    <input type="text" class="filtro-buscar" placeholder="Buscar reportes...">
                                </div>
                                
                                <div class="filtro-grupo">
                                    <span class="filtro-label">Categoría</span>
                                    <select class="filtro-select" id="filtro-categoria">
                                        <option value="">Todas</option>
                                        <option value="electrico">Eléctrico</option>
                                        <option value="fontaneria">Fontanería</option>
                                        <option value="estructural">Estructural</option>
                                        <option value="climatizacion">Climatización</option>
                                        <option value="seguridad">Seguridad</option>
                                    </select>
                                    <span class="material-symbols-outlined">expand_more</span>
                                </div>
                                
                                <div class="filtro-grupo">
                                    <span class="filtro-label">Prioridad</span>
                                    <select class="filtro-select" id="filtro-prioridad">
                                        <option value="">Todas</option>
                                        <option value="urgente">Urgentes</option>
                                        <option value="normal">Normales</option>
                                    </select>
                                    <span class="material-symbols-outlined">expand_more</span>
                                </div>
                                
                                <div class="filtro-grupo">
                                    <span class="filtro-label">Estado</span>
                                    <select class="filtro-select" id="filtro-estado">
                                        <option value="">Todos</option>
                                        <option value="abierto">Abierto</option>
                                        <option value="en-proceso">En Proceso</option>
                                        <option value="resuelto">Resuelto</option>
                                    </select>
                                    <span class="material-symbols-outlined">expand_more</span>
                                </div>
                                
                                <div class="filtro-grupo">
                                    <span class="filtro-label">Fecha</span>
                                    <select class="filtro-select" id="filtro-fecha">
                                        <option value="">Todas</option>
                                        <option value="hoy">Hoy</option>
                                        <option value="semana">Esta semana</option>
                                        <option value="mes">Este mes</option>
                                    </select>
                                    <span class="material-symbols-outlined">expand_more</span>
                                </div>
                            </div>
                        </div>

                        <!-- Tabla de reportes -->
                        <div class="tabla-container">
                            <table class="tabla-reportes">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Título</th>
                                        <th>Categoría</th>
                                        <th>Prioridad</th>
                                        <th>Estado</th>
                                        <th>Ubicación</th>
                                        <th>Usuario</th>
                                        <th>Fecha</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tabla-reportes-body">
                                    <!-- Los reportes se cargarán dinámicamente desde la API -->
                                </tbody>
                            </table>
                            <!-- Controles de paginación (se llenan dinámicamente) -->
                            <div id="paginacion-reportes" class="paginacion-container"></div>
                        </div>
                    </section>
                </div>
            </main>
        </div>
        
        <!-- Indicador de carga SPA -->
        <div class="spa-loader"></div>
    </div>

    <!-- Scripts -->
    <!-- Sistema de componentes (debe cargarse primero) -->
    <script src="js/components.js"></script>
    <script>
        // Inicializar funcionalidad específica de la página
        $(document).ready(function() {
            // El marcado del elemento activo se manejará automáticamente por components.js
        });
    </script>
    <!-- Sistema de navegación SPA -->
    <script src="js/spa-navigation.js"></script>
    <script src="js/explorar-reportes.js"></script>
</body>
</html>