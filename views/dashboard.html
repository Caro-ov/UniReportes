<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Head común -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>UniReportes - Dashboard</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Noto+Sans:wght@400;500;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <!-- CSS - Cargado estáticamente para evitar retrasos -->
    <link rel="stylesheet" href="css/components.css"/>
    <link rel="stylesheet" href="css/dashboard.css"/>
    <link rel="stylesheet" href="css/responsive.css" media="screen and (max-width: 768px)"/>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Script de seguridad -->
    <script>
    if (window.location.pathname !== '/login.html' && 
        window.location.pathname !== '/' && 
        !window.location.pathname.includes('index.html')) {
        if (sessionStorage.getItem('logout_flag')) {
            sessionStorage.removeItem('logout_flag');
            window.location.replace('/login.html');
        }
        window.addEventListener('pageshow', function(event) {
            if (event.persisted || sessionStorage.getItem('logout_flag')) {
                sessionStorage.removeItem('logout_flag');
                window.location.replace('/login.html');
            }
        });
    }
    </script>
</head>
<body data-page="dashboard" data-title="UniReportes - Dashboard" data-css="dashboard">
    <div class="contenedor-principal">
        <!-- Overlay para móvil -->
        <div class="overlay"></div>
        
        <!-- Sidebar de navegación -->
        <aside id="sidebar-container" class="sidebar">
            <!-- Sidebar será cargado aquí -->
        </aside>

        <!-- Contenido wrapper -->
        <div class="contenido-wrapper">
            <!-- Header superior -->
            <header id="header-container" class="header-principal">
                <!-- Header será cargado aquí -->
            </header>

            <!-- Contenido principal -->
            <main class="contenido-principal">
                <div class="contenedor-contenido">
                    <!-- Encabezado de la página -->
                    <header class="encabezado-pagina">
                    <h2 class="titulo-pagina">Inicio</h2>
                    <p class="descripcion-pagina">
                        Bienvenido a UniReportes, tu plataforma para reportar problemas de infraestructura en la universidad.
                    </p>
                </header>

                <!-- Sección principal -->
                <section class="seccion-principal">
                    <h3 class="titulo-seccion">¿Qué puedes hacer?</h3>
                    
                    <div class="grid-opciones">
                        <!-- Opción 1: Explorar reportes -->
                        <div class="tarjeta-opcion" data-spa-nav="mis-reportes">
                            <span class="material-symbols-outlined icono-opcion">visibility</span>
                            <div class="contenido-opcion">
                                <h4 class="titulo-opcion">Explorar reportes</h4>
                                <p class="descripcion-opcion">Visualiza los reportes existentes para estar al tanto de los problemas actuales.</p>
                            </div>
                        </div>
                        
                        <!-- Opción 2: Crear nuevo reporte -->
                        <div class="tarjeta-opcion" data-spa-nav="crear-reporte">
                            <span class="material-symbols-outlined icono-opcion">edit_document</span>
                            <div class="contenido-opcion">
                                <h4 class="titulo-opcion">Crear un nuevo reporte</h4>
                                <p class="descripcion-opcion">¿Encontraste un problema? Repórtalo para que podamos solucionarlo.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
        </div>
        
        <!-- Indicador de carga SPA -->
        <div class="spa-loader"></div>
    </div>

    <!-- Sistema de componentes -->
    <script src="js/components.js"></script>
    <!-- Sistema de navegación SPA -->
    <script src="js/spa-navigation.js"></script>
    <!-- JavaScript personalizado -->
    <script src="js/dashboard.js"></script>
</body>
</html>